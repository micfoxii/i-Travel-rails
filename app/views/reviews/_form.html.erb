<%= form_for [user, review] do |f|%>
    <div class="input-field">
        <% if @city %>
            <%= f.hidden_field :city_id, value: @city.id %>
            <%= f.text_field :city, value: @city.name %>
        <% else %>
            <%= f.label :city, "Select a city:" %>
            <%= f.collection_select :city_id, City.order('name ASC'), :id, :city_state_country, :include_blank => true %>
        <p> OR create a new city below: </p>
            <%= f.fields_for :city do |c| %>
                <%= c.label :name, "City Name"%>
                <%= c.text_field :name, placeholder: "City Name" %><br><br>

                <% #Select or Create Country %>
                <%= city_attrib.label :country, "Select Country"%>
                <%= city_attrib.collection_select :country_id, Country.order('name ASC'), :id, :name, :include_blank => true %>
                <%= city_attrib.label :country, "OR add new country:" %>
                <%= city_attrib.text_field :country %>
                
                <% end %>
            <% end %>
    </div>

    <div class="input-field">
        <%= f.label :title %>
        <%= f.text_field :title %>
    </div>

    <div class="input-field">
        <%= f.label :content %>
        <%= f.text_area :content %>
    </div>

    <div class="input-field">
        <%= f.label :rating %>
        <%= f.select :rating, (1..5), :include_blank => true %>
    </div>

    <%= f.submit button_name, class: "btn" %>
<% end %>